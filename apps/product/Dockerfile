FROM node:10.16

WORKDIR /app

ARG GQL_ENDPOINT
ARG GQL_API_KEY

ENV AWS_APPSYNC_GRAPHQL_ENDPOINT=${GQL_ENDPOINT}
ENV AWS_APPSYNC_APIKEY=${GQL_API_KEY}
ENV CLIENT_ID='clientId'
ENV SECRET_KEY='secretKey'
ENV PORT=8000

COPY . /app

RUN npm i --no-package-lock

EXPOSE 8000
CMD [ "npm", "start" ]